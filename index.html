<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>ÙƒØ´Ù Ø§Ù„Ø­Ø¶ÙˆØ± Ø§Ù„ÙØ¹Ù„ÙŠ</title>
<style>
    /* ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø¹Ø§Ù…Ø© */
    body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #f0f0f0; padding: 20px; }
    
    /* Ø§Ù„ÙˆØ±Ù‚Ø© */
    .page {
        background: white;
        width: 210mm;
        min-height: 297mm;
        margin: auto;
        padding: 10mm;
        box-shadow: 0 0 10px rgba(0,0,0,0.1);
        box-sizing: border-box;
    }

    /* Ø§Ù„Ù‡ÙŠØ¯Ø± */
    .header { display: flex; justify-content: space-between; align-items: center; border-bottom: 3px solid #c7a35a; padding-bottom: 10px; margin-bottom: 10px; }
    .header img { height: 60px; }
    .center-info { text-align: center; font-weight: bold; }
    
    /* Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ */
    table { width: 100%; border-collapse: collapse; margin-bottom: 10px; font-size: 12px; }
    th, td { border: 1px solid #000; padding: 5px; text-align: center; }
    
    /* Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† */
    .morning-header { background: #ffe699; }
    .evening-header { background: #cfe2f3; }

    /* Ø­Ù‚Ù„ Ø§Ù„Ø§Ø³Ù… */
    .name-input { 
        width: 95%; border: none; outline: none; 
        font-family: inherit; font-size: inherit; text-align: center;
        background: #fffbe6; padding: 5px;
    }
    .name-input:focus { background: #e0f7fa; }

    /* Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ÙˆØ§Ù„ØªÙˆØ§Ù‚ÙŠØ¹ */
    .summary-box { border: 2px solid #333; padding: 10px; margin-top: 15px; display: flex; justify-content: space-around; font-weight: bold; background: #f9f9f9; }
    .footer { display: flex; justify-content: space-between; margin-top: 30px; }
    .sig-box { text-align: center; width: 40%; border-top: 1px solid #000; padding-top: 5px; font-weight: bold; }

    /* Ø²Ø± Ø§Ù„Ø·Ø¨Ø§Ø¹Ø© */
    .print-btn {
        position: fixed; left: 20px; bottom: 20px;
        background: #007bff; color: white; padding: 15px 25px;
        border: none; border-radius: 50px; font-weight: bold; cursor: pointer;
        box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }
    .print-btn:hover { background: #0056b3; }

    /* ========================================= */
    /* Ø£Ù‡Ù… Ø¬Ø²Ø¡: Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø·Ø¨Ø§Ø¹Ø© Ù„Ù„Ø¥Ø®ÙØ§Ø¡ ÙˆØ§Ù„Ø¸Ù‡ÙˆØ± */
    /* ========================================= */
    @media print {
        body { background: white; padding: 0; margin: 0; }
        .page { box-shadow: none; margin: 0; width: 100%; height: auto; padding: 5mm; border: none; }
        .print-btn, .date-picker-container { display: none !important; }
        
        /* Ø§Ù„Ø³Ø­Ø± Ù‡Ù†Ø§: Ø¥Ø®ÙØ§Ø¡ Ø§Ù„ØµÙÙˆÙ Ø§Ù„ÙØ§Ø±ØºØ© */
        tr.empty-row { display: none !important; }
        
        /* Ø¥Ø®ÙØ§Ø¡ Ø­Ø¯ÙˆØ¯ Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„ÙØ§Ø±ØºØ© Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù‡Ù†Ø§Ùƒ Ø¨ÙŠØ§Ù†Ø§Øª */
        table:empty { display: none; }
        
        /* Ø¥Ø²Ø§Ù„Ø© Ø®Ù„ÙÙŠØ© Ø­Ù‚Ù„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ Ù„ÙŠØ¸Ù‡Ø± ÙƒØ£Ù†Ù‡ Ù†Øµ Ù…Ø·Ø¨ÙˆØ¹ */
        .name-input { background: transparent; }
        
        /* Ø¶Ù…Ø§Ù† ØµÙØ­Ø© ÙˆØ§Ø­Ø¯Ø© */
        .page { page-break-after: avoid; }
    }
</style>
</head>
<body>

<button class="print-btn" onclick="window.print()">ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø© (Ø§Ù„Ù…Ø³Ø¬Ù„ÙŠÙ† ÙÙ‚Ø·)</button>

<div class="page">
    <div class="header">
        <img src="majdoul.png" alt="Majdoul"> <div class="center-info">
            <div>Ø´Ø±ÙƒØ© LINK EXPERT</div>
            <div>ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø­Ø¶ÙˆØ± Ø§Ù„ÙØ¹Ù„ÙŠ</div>
            <div class="date-picker-container" style="margin-top:5px;">
                <input type="date" id="dateSelector" onchange="updateDateDisplay()">
            </div>
            <div id="dateText" style="margin-top:5px;">--/--/----</div>
        </div>
        <img src="linkexpert.png" alt="LinkExpert"> </div>

    <table id="tableMorning">
        <thead>
            <tr class="morning-header">
                <th width="5%">#</th>
                <th width="40%">Ø§Ù„Ù…Ø³Ù…Ù‰ Ø§Ù„ÙˆØ¸ÙŠÙÙŠ</th>
                <th width="40%">Ø§Ù„Ø§Ø³Ù…</th>
                <th width="15%">Ø§Ù„ÙØªØ±Ø©</th>
            </tr>
        </thead>
        <tbody id="morningBody"></tbody>
    </table>

    <table id="tableEvening">
        <thead>
            <tr class="evening-header">
                <th width="5%">#</th>
                <th width="40%">Ø§Ù„Ù…Ø³Ù…Ù‰ Ø§Ù„ÙˆØ¸ÙŠÙÙŠ</th>
                <th width="40%">Ø§Ù„Ø§Ø³Ù…</th>
                <th width="15%">Ø§Ù„ÙØªØ±Ø©</th>
            </tr>
        </thead>
        <tbody id="eveningBody"></tbody>
    </table>

    <div class="summary-box">
        <span>ØµØ¨Ø§Ø­: <span id="countM">0</span></span>
        <span>|</span>
        <span>Ù…Ø³Ø§Ø¡: <span id="countE">0</span></span>
        <span>|</span>
        <span>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: <span id="countTotal">0</span></span>
    </div>

    <div class="footer">
        <div class="sig-box">Ù…Ø³Ø¤ÙˆÙ„ Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©<br>Ø³Ù„Ù…Ø§Ù† Ø§Ù„Ø­Ù…ÙˆØ¯</div>
        <div class="sig-box">Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ø´Ø±ÙˆØ¹<br>Ø³Ø§Ù„Ù… Ø§Ù„Ø´Ù…Ø±ÙŠ</div>
    </div>
</div>

<script>
    // Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
    const jobsMorning = ["Ù…Ø¯ÙŠØ± Ø§Ù„Ù…ÙˆØ§Ù‚Ù","ØªØºØ·ÙŠØ§Øª","ØªØºØ·ÙŠØ§Øª","ÙØ§Ù„ÙŠÙ‡ 1","ÙØ§Ù„ÙŠÙ‡ 1","ÙØ§Ù„ÙŠÙ‡ 2","ÙØ§Ù„ÙŠÙ‡ 3 - ÙØ­Øµ","Ù…Ù†Ø¸Ù… Ø¨ÙˆØ§Ø¨Ø© 3","Ù…Ù†Ø¸Ù… Ø¨ÙˆØ§Ø¨Ø© 5","Ù…Ù†Ø¸Ù… Ù…ÙˆØ§Ù‚Ù P1","Ù…Ù†Ø¸Ù… Ù…ÙˆØ§Ù‚Ù P1","Ù…Ù†Ø¸Ù… Ù…ÙˆØ§Ù‚Ù P1","Ù…Ù†Ø¸Ù… Ù…ÙˆØ§Ù‚Ù P2","Ù…Ù†Ø¸Ù… Ù…ÙˆØ§Ù‚Ù P2","Ù…Ù†Ø¸Ù… Ù…ÙˆØ§Ù‚Ù P2","Ù…Ù†Ø¸Ù… Ù…ÙˆØ§Ù‚Ù P3","Ù…Ù†Ø¸Ù… Ù…ÙˆØ§Ù‚Ù P4","Ù…Ø³Ø¤ÙˆÙ„ Ø§Ù„Ø´Ø­Ù† A","Ù…Ø³Ø¤ÙˆÙ„ Ø§Ù„Ø´Ø­Ù† P2"];
    const jobsEvening = ["ØªØºØ·ÙŠØ§Øª","ÙØ§Ù„ÙŠÙ‡ 1","ÙØ§Ù„ÙŠÙ‡ 2","Ù…Ù†Ø¸Ù… Ø¨ÙˆØ§Ø¨Ø© 3","Ù…Ù†Ø¸Ù… Ø¨ÙˆØ§Ø¨Ø© 5","Ù…Ø³Ø¤ÙˆÙ„ Ø§Ù„Ø´Ø­Ù† A","Ù…Ø³Ø¤ÙˆÙ„ Ø§Ù„Ø´Ø­Ù† P2","Ù…Ù†Ø¸Ù… Ù…ÙˆØ§Ù‚Ù P1","Ù…Ù†Ø¸Ù… Ù…ÙˆØ§Ù‚Ù P3"];

    // Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„
    function init() {
        buildTable('morningBody', jobsMorning, '7Øµ - 7Ù…');
        buildTable('eveningBody', jobsEvening, '7Ù… - 7Øµ');
        updateDateDisplay();
    }

    function buildTable(tbodyId, jobs, time) {
        const tbody = document.getElementById(tbodyId);
        let html = '';
        jobs.forEach((job, index) => {
            // Ù†Ø¶ÙŠÙ ÙƒÙ„Ø§Ø³ "empty-row" Ø§ÙØªØ±Ø§Ø¶ÙŠØ§Ù‹ Ù„Ø£Ù† Ø§Ù„Ø§Ø³Ù… ÙØ§Ø±Øº
            html += `
            <tr class="empty-row" id="${tbodyId}-row-${index}">
                <td>${index + 1}</td>
                <td>${job}</td>
                <td><input type="text" class="name-input" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„Ø§Ø³Ù…..." oninput="checkRow(this)"></td>
                <td>${time}</td>
            </tr>`;
        });
        tbody.innerHTML = html;
    }

    // Ù‡Ø°Ù‡ Ø§Ù„Ø¯Ø§Ù„Ø© ØªØ¹Ù…Ù„ Ø¹Ù†Ø¯ Ø§Ù„ÙƒØªØ§Ø¨Ø©
    function checkRow(input) {
        const row = input.closest('tr');
        const name = input.value.trim();

        // Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ Ø§Ø³Ù…ØŒ Ù†Ø­Ø°Ù ÙƒÙ„Ø§Ø³ "empty-row" ÙÙŠØ¸Ù‡Ø± ÙÙŠ Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©
        // Ø¥Ø°Ø§ ÙƒØ§Ù† ÙØ§Ø±ØºØ§Ù‹ØŒ Ù†Ø¶ÙŠÙ Ø§Ù„ÙƒÙ„Ø§Ø³ ÙÙŠØ®ØªÙÙŠ Ù…Ù† Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©
        if (name.length > 0) {
            row.classList.remove('empty-row');
            row.style.backgroundColor = input.closest('tbody').id === 'morningBody' ? '#fff9db' : '#e3f2fd';
        } else {
            row.classList.add('empty-row');
            row.style.backgroundColor = 'transparent';
        }
        
        calcTotals();
    }

    function calcTotals() {
        // Ù†Ø­Ø³Ø¨ ÙÙ‚Ø· Ø§Ù„ØµÙÙˆÙ Ø§Ù„ØªÙŠ Ù„Ø§ ØªØ­Ù…Ù„ ÙƒÙ„Ø§Ø³ empty-row
        const m = document.querySelectorAll('#morningBody tr:not(.empty-row)').length;
        const e = document.querySelectorAll('#eveningBody tr:not(.empty-row)').length;
        
        document.getElementById('countM').innerText = m;
        document.getElementById('countE').innerText = e;
        document.getElementById('countTotal').innerText = m + e;
    }

    function updateDateDisplay() {
        const input = document.getElementById('dateSelector');
        const text = document.getElementById('dateText');
        if(input.value) {
            text.innerText = input.value;
        } else {
            const today = new Date().toISOString().split('T')[0];
            input.value = today;
            text.innerText = today;
        }
    }

    // ØªØ´ØºÙŠÙ„ Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
    init();
</script>

</body>
</html>
